% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/indvalgp.R
\name{indvalgp}
\alias{indvalgp}
\title{Calculate IndVal Index for Taxa Across Provinces}
\usage{
indvalgp(x, provinces)
}
\arguments{
\item{x}{A matrix where the rows are samples and the columns are taxa.}

\item{provinces}{A factor indicating to which province each sample belongs.}
}
\value{
A data frame where rows represent provinces and columns represent taxa. Values indicate the IndVal index observed for each combination of province and taxon.
}
\description{
Calculate IndVal Index for Taxa Across Provinces
}
\examples{
#
#Crear una matriz de datos (20 muestras, 5 taxones)

set.seed(123)
x <- matrix(sample(0:10, 100, replace = TRUE), nrow = 20, ncol = 5)
colnames(x) <- paste0("Taxon_", 1:5)

# Crear un factor para las provincias (4 provincias)
provinces <- factor(rep(c("Province_A", "Province_B", "Province_C", "Province_D"), each = 5))

# Ver la matriz de datos y las provincias
print("Matriz de datos (x):")
print(x)
print("Provincias:")
print(provinces)

# Definir la función indval1 (auxiliar)
indval1 <- function(x) {
  A <- apply(x, 2, sum) / sum(apply(x, 2, sum))
  B <- apply(ifelse(x == 0, 0, 1), 2, sum) / nrow(x)
  IV <- round(A * B * 100, 2)
  IV <- IV[which(IV != 0)]
  return(IV)
}

# Calcular IndVal por provincia usando la función indval
result <- envpoll::indvalgp(x, provinces)

# Mostrar el resultado
print("Resultado de IndVal por provincia:")
print(result)


}
